
<div class="container-fluid">
    <div class="row">
        
        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
            
            index.html
            
            <form method="post" enctype="multipart/form-data" id="form0">
                <input type="file" name="file" id="file0" onchange="upl(event)">
                <input type="submit" value="Upload">
            </form>
            
        </main>
    </div>
</div>



<script>

(function(){
    
    //let form = document.getElementById('form0');
    /*
    let file0 = document.getElementById('file0');
    
    file0.onchange = function(){
        
    };
    */
    
})();

function upload() {
    let xhr = new XMLHttpRequest();
    
    xhr.open('POST', '/admin/user');
    xhr.setRequestHeader('Content-Type', 'application/octet-stream');
    xhr.send(bytes);
}

function upl(ev) {
    //console.log( ev.target.files[0] );
    //document.querySelector('input[type=file]').files[0];
    var reader = new FileReader();
    reader.onload = function(reader_event){
        console.log( 'reader.result', reader.result );
        
        let xhr = new XMLHttpRequest();
        let fd = new FormData();
        
        fd.append('title', 'about file text');
        fd.append('file', reader.result);
        
        xhr.open('POST', '/admin/user');
        //xhr.setRequestHeader('Content-Type', 'application/octet-stream');
        //xhr.setRequestHeader('Content-Type', 'multipart/form-data');
        xhr.send(fd);
        
    };
    reader.readAsDataURL(ev.target.files[0]);
    //reader.readAsBinaryString(ev.target.files[0]);
    
    
}

</script>
